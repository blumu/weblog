<?xml version="1.0" encoding="UTF-8"?>
<configuration>
<system.webServer>  
    <rewrite>
        <rules>
            <rule name="old blog post permalinks">
                <match url="^blog/index.php" />
                <conditions>
                    <add input="{QUERY_STRING}" pattern="entry=(.*)$" />
                </conditions>
                <action type="Rewrite" url="/blog/{C:1}.html" appendQueryString="false" />
            </rule>
            <rule name="old blog static page permalinks">
                <match url="^blog/static.php" />
                <conditions>
                    <add input="{QUERY_STRING}" pattern="page=(.*)$" />
                </conditions>
                <action type="Rewrite" url="/blog/{C:1}.html" appendQueryString="false" />
            </rule>
            
            <rule name="incorrect page links generated by disqus">
                <match url="^index.html" />
                <conditions>
                    <add input="{QUERY_STRING}" pattern="static=(.*)$" />
                </conditions>
                <action type="Rewrite" url="/blog/{C:1}.html" appendQueryString="false" />
            </rule>
            
            <rule name="Old php blog root" stopProcessing="true">
                <match url="^blog/index.php$" />
                <action type="Redirect" url="index.html" />
            </rule>
            <rule name="setpage.php redir" stopProcessing="true">
                <match url="^setpage.php" />
                <conditions>
                    <add input="{QUERY_STRING}" pattern="page=(.*)$" />
                </conditions>
                <action type="Redirect" url="/{C:1}" appendQueryString="false" />
            </rule>
            <rule name="Root Hit Redirect" stopProcessing="true">
                <match url="^$" />
                <action type="Redirect" url="index.html" />
            </rule>
            <rule name="Very old root" stopProcessing="true">
                <match url="^~william/$" />
                <action type="Redirect" url="index.html" />
            </rule>
            <rule name="Old cracklock location" stopProcessing="true">
                <match url="^cracklock/$" />
                <action type="Redirect" url="software/cracklock/" />
            </rule>
            <rule name="Old thesis location" stopProcessing="true">
                <match url="^mscthesis/$" />
                <action type="Redirect" url="research" />
            </rule>
            <rule name="Old software location" stopProcessing="true">
                <match url="^softwares/$" />
                <action type="Redirect" url="software" />
            </rule>

            <!-- Redirection from older version of fsbloglib to new fsblog as of 7/16/2021 -->
            <rule name="redirect aboutme" stopProcessing="true">
                <match url="^aboutme.html$" />
                <action type="Redirect" url="aboutme/" />
            </rule>
            <rule name="redirect lily.html" stopProcessing="true">
                <match url="^lily.html$" />
                <action type="Redirect" url="lily/" />
            </rule>
            <rule name="redirect links.html" stopProcessing="true">
                <match url="^links.html$" />
                <action type="Redirect" url="links/" />
            </rule>
            <rule name="redirect search.html" stopProcessing="true">
                <match url="^search.html$" />
                <action type="Redirect" url="search/" />
            </rule>
            <rule name="redirect blog/cracklock-beats-leukemia.html" stopProcessing="true">
                <match url="^blog/cracklock-beats-leukemia.html$" />
                <action type="Redirect" url="blog/cracklock-beats-leukemia/" />
            </rule>
            <rule name="redirect blog/entry071201-200254.html" stopProcessing="true">
                <match url="^blog/entry071201-200254.html$" />
                <action type="Redirect" url="blog/entry071201-200254/" />
            </rule>
            <rule name="redirect blog/entry080121-063152.html" stopProcessing="true">
                <match url="^blog/entry080121-063152.html$" />
                <action type="Redirect" url="blog/entry080121-063152/" />
            </rule>
            <rule name="redirect blog/entry080514-043933.html" stopProcessing="true">
                <match url="^blog/entry080514-043933.html$" />
                <action type="Redirect" url="blog/entry080514-043933/" />
            </rule>
            <rule name="redirect blog/entry080515-065447.html" stopProcessing="true">
                <match url="^blog/entry080515-065447.html$" />
                <action type="Redirect" url="blog/entry080515-065447/" />
            </rule>
            <rule name="redirect blog/entry080612-040012.html" stopProcessing="true">
                <match url="^blog/entry080612-040012.html$" />
                <action type="Redirect" url="blog/entry080612-040012/" />
            </rule>
            <rule name="redirect blog/entry081007-214408.html" stopProcessing="true">
                <match url="^blog/entry081007-214408.html$" />
                <action type="Redirect" url="blog/entry081007-214408/" />
            </rule>
            <rule name="redirect blog/entry101116-033103.html" stopProcessing="true">
                <match url="^blog/entry101116-033103.html$" />
                <action type="Redirect" url="blog/entry101116-033103/" />
            </rule>
            <rule name="redirect blog/entry110123-113226.html" stopProcessing="true">
                <match url="^blog/entry110123-113226.html$" />
                <action type="Redirect" url="blog/entry110123-113226/" />
            </rule>
            <rule name="redirect blog/entry150223-003713.html" stopProcessing="true">
                <match url="^blog/entry150223-003713.html$" />
                <action type="Redirect" url="blog/entry150223-003713/" />
            </rule>
            <rule name="redirect blog/static081010-000413.html" stopProcessing="true">
                <match url="^blog/static081010-000413.html$" />
                <action type="Redirect" url="blog/static081010-000413/" />
            </rule>
            <rule name="redirect blog/website-design-overhaul.html" stopProcessing="true">
                <match url="^blog/website-design-overhaul.html$" />
                <action type="Redirect" url="blog/website-design-overhaul/" />
            </rule>
            <rule name="redirect research/bib.html" stopProcessing="true">
                <match url="^research/bib.html$" />
                <action type="Redirect" url="research/bib/" />
            </rule>
            <rule name="redirect research/publications.html" stopProcessing="true">
                <match url="^research/publications.html$" />
                <action type="Redirect" url="research/publications/" />
            </rule>
            <rule name="redirect research/references.html" stopProcessing="true">
                <match url="^research/references.html$" />
                <action type="Redirect" url="research/references/" />
            </rule>
            <rule name="redirect research/references-jabrefexport.html" stopProcessing="true">
                <match url="^research/references-jabrefexport.html$" />
                <action type="Redirect" url="research/references-jabrefexport/" />
            </rule>
            <rule name="redirect research/tools.html" stopProcessing="true">
                <match url="^research/tools.html$" />
                <action type="Redirect" url="research/tools/" />
            </rule>
            <rule name="redirect software/cracklock/changelog-web.html" stopProcessing="true">
                <match url="^software/cracklock/changelog-web.html$" />
                <action type="Redirect" url="software/cracklock/changelog-web/" />
            </rule>
            <rule name="redirect software/cracklock/cracklock-webfaq.html" stopProcessing="true">
                <match url="^software/cracklock/cracklock-webfaq.html$" />
                <action type="Redirect" url="software/cracklock/cracklock-webfaq/" />
            </rule>
            <rule name="redirect twc/report.html" stopProcessing="true">
                <match url="^twc/report.html$" />
                <action type="Redirect" url="twc/report/" />
            </rule>
            <rule name="redirect software/others/NetNotifier.html" stopProcessing="true">
                <match url="^software/others/NetNotifier.html$" />
                <action type="Redirect" url="software/others/NetNotifier/" />
            </rule>
            <rule name="redirect software/latexdaemon/changelog-inc.html" stopProcessing="true">
                <match url="^software/latexdaemon/changelog-inc.html$" />
                <action type="Redirect" url="software/latexdaemon/changelog-inc/" />
            </rule>
            <rule name="redirect software/cracklock/xmldoc/cracklock-doc-web.html" stopProcessing="true">
                <match url="^software/cracklock/xmldoc/cracklock-doc-web.html$" />
                <action type="Redirect" url="software/cracklock/xmldoc/cracklock-doc-web/" />
            </rule>

            
          
        </rules>
    </rewrite>

    <httpErrors errorMode="Custom">
    <clear/>
    <error statusCode="404" path="/404.html" responseMode="Redirect"/>
    </httpErrors>

</system.webServer>
<system.web>    
    <customErrors mode="On">
        <error statusCode="404" redirect="/404.html"/>
    </customErrors>
</system.web>
</configuration>
